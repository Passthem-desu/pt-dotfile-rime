##  ä¸€äº›å¸¸ç”¨çš„è®¾ç½®é¡¹, æ‰¾åˆ°éœ€è¦è¿›è¡Œçš„è®¾ç½®æ‰€åœ¨çš„è¡Œ,
##  å–æ¶ˆæ³¨é‡Š (åˆ é™¤è¡Œå¼€å¤´çš„å•ä¸ª # ç¬¦å·) å³å¯å¯ç”¨è¯¥è®¾ç½®é¡¹.
##  æ³¨æ„ä¸è¦åˆ é™¤å‰é¢çš„ç©ºæ ¼, YAML æ–‡ä»¶çš„ç¼©è¿›æ¯”è¾ƒä¸¥æ ¼, ç¼©è¿›ä¸å¯¹å®¹æ˜“æŠ¥é”™.
---

patch:
  switches:
    - name: ascii_mode
      states: [ä¸­, En]
    - name: ascii_punct
      states: [ã€‚, .]
    - name: full_shape
      states: [åŠ, å…¨]
    - name: traditionalize
      states: [ç®€, ç¹]
    - name: extended_charset
      states: [é€šç”¨, å¢å»£]
      reset: 1
    - name: char_mode
      states: [è¯ç»„ä¼˜å…ˆ, å•å­—ä¼˜å…ˆ]
      reset: 1

  engine/+:
    processors:
      - ascii_composer
      - recognizer
      - speller
      - selector
      - navigator
      - key_binder
      - punctuator
      - express_editor
    segmentors/+:
    translators:
      - punct_translator
      - script_translator
      - reverse_lookup_translator
      # - table_translator@melt_eng
      - table_translator@custom_phrase
    filters/+:
  'engine/processors/@next': predictor
  'engine/translators/@before 0': predict_translator
  # æ³¨é‡Šä¸‹è¡Œ, ä»¥å–æ¶ˆä¸­è‹±æ··åˆçš„å€™é€‰è¯æ¡é‡Œè‡ªåŠ¨æ·»åŠ çš„ç©ºæ ¼
  'engine/filters/@before last': lua_filter@*word_append_space*filter
  # æ³¨é‡Šä¸‹è¡Œ, ä»¥å–æ¶ˆä¸­è‹±æ··åˆè¾“å‡ºä¸Šå±æ—¶è‡ªåŠ¨æ·»åŠ çš„å‰å¯¼ç©ºæ ¼
  # 'engine/processors/@after 1': lua_processor@*word_append_space*processor

  # ä¿®æ”¹åŸå¿«æ·é”®æ–¹æ¡ˆ
  key_binder:
    bindings:
      # - {when: has_menu, accept: semicolon, send: 2}         # åˆ†å·ç”¨äºç¬¬2å€™é€‰
      # - {when: has_menu, accept: apostrophe, send: 3}        # å•å¼•å·ç”¨äºç¬¬3å€™é€‰
      # - {when: paging, accept: comma, send: Page_Up}         # é€—å·ä¸Šä¸€é¡µ
      # - {when: has_menu, accept: period, send: Page_Down}    # å¥å·ä¸‹ä¸€é¡µ
      - {when: paging,    accept: minus,  send: Page_Up}   # å‡å·- ä¸Šä¸€é¡µ
      - {when: has_menu,  accept: equal, send: Page_Down}  # ç­‰å·= ä¸‹ä¸€é¡µ
      - {when: has_menu,  accept: Tab, send: Control+Right}
      - {when: composing, accept: Tab, send: Control+Right}
      - {when: composing, accept: Shift+Tab, send: Control+Left}
      # - {when: composing, accept: Control+k, send: Shift+Delete}
      # - {when: composing, accept: Control+i, send: Control+Left}
      # - {when: composing, accept: Control+o, send: Control+Right}
      # - {when: composing, accept: Control+w, send: Control+BackSpace}
      - {when: has_menu, accept: Control+Shift+slash, toggle: emoji}
      # - {when: always, accept: "Control+comma", toggle: ascii_punct}
      # - {when: always, accept: "Control+period", toggle: full_shape}
      # - {when: always, accept: "Control+slash", toggle: traditionalize

  punctuator/+:
    symbols/+:
      # ä» Luna æ‹¼éŸ³è¿ç§»æ¥çš„æ–¹æ¡ˆ
      "/0": ["ã€‡", "é›¶", "â‚€", "â°", "â“ª", "â“¿", "ï¼"]
      "/1": ["ä¸€", "å£¹", "â‚", "Â¹", "â… ", "â…°", "â‘ ", "â€", "â¶", "âŠ", "â“µ", "â‘´", "â’ˆ", "ï¼‘", "ãŠ€", "ãˆ ", "å¼Œ", "å£±", "å¹º", "ã†’"]
      "/10": ["å", "æ‹¾", "â‚â‚€", "Â¹â°", "â…©", "â…¹", "â‘©", "â‰", "â¿", "â“", "â“¾", "â‘½", "â’‘", "ï¼‘ï¼", "ãŠ‰", "ãˆ©", "ä»€"]
      "/2": ["äºŒ", "è²³", "â‚‚", "Â²", "â…¡", "â…±", "â‘¡", "â", "â·", "â‹", "â“¶", "â‘µ", "â’‰", "ï¼’", "ãŠ", "ãˆ¡", "å¼", "å¼", "è²®", "ã’ƒ", "ã’³", "å…©", "å€†", "ã†“"]
      "/3": ["ä¸‰", "å„", "â‚ƒ", "Â³", "â…¢", "â…²", "â‘¢", "â‚", "â¸", "âŒ", "â“·", "â‘¶", "â’Š", "ï¼“", "ãŠ‚", "ãˆ¢", "åƒ", "å‚", "å", "å¼", "ä»¨", "ã†”"]
      "/4": ["å››", "è‚†", "â‚„", "â´", "â…£", "â…³", "â‘£", "âƒ", "â¹", "â", "â“¸", "â‘·", "â’‹", "ï¼”", "ãŠƒ", "ãˆ£", "äº–"]
      "/5": ["äº”", "ä¼", "â‚…", "âµ", "â…¤", "â…´", "â‘¤", "â„", "âº", "â", "â“¹", "â‘¸", "â’Œ", "ï¼•", "ãŠ„", "ãˆ¤", "ã…", "ã ª", "ğ „¡"]
      "/6": ["å…­", "é™¸", "â‚†", "â¶", "â…¥", "â…µ", "â‘¥", "â…", "â»", "â", "â“º", "â‘¹", "â’", "ï¼–", "ãŠ…", "ãˆ¥", "â†…"]
      "/7": ["ä¸ƒ", "æŸ’", "â‚‡", "â·", "â…¦", "â…¶", "â‘¦", "â†", "â¼", "â", "â“»", "â‘º", "â’", "ï¼—", "ãŠ†", "ãˆ¦", "æ¼†"]
      "/8": ["å…«", "æŒ", "â‚ˆ", "â¸", "â…§", "â…·", "â‘§", "â‡", "â½", "â‘", "â“¼", "â‘»", "â’", "ï¼˜", "ãŠ‡", "ãˆ§"]
      "/9": ["ä¹", "ç–", "â‚‰", "â¹", "â…¨", "â…¸", "â‘¨", "âˆ", "â¾", "â’", "â“½", "â‘¼", "â’", "ï¼™", "ãŠˆ", "ãˆ¨"]
    full_shape/+:
    half_shape/+:
      # '"': {pair: ['â€˜', 'â€™']}
      # "'": {pair: ['â€œ', 'â€']}
      # ";": {commit: "ï¼›"}                     # æ¢å¤é»˜è®¤åˆ†å·, å–æ¶ˆæ³¨é‡Š
      # ";": [";", "ï¼›"]                          # æ·»åŠ æ³¨é‡Š, ä»¥æ¢å¤é»˜è®¤åˆ†å·
      '\': ['ã€', 'ï½¤', '\', 'ï¼¼', '\r', '\n', '\t']
      "<": [ã€Š, "<", ã€ˆ, Â«, âŸ¨, Ë‚, Ë±]
      ">": [ã€‹,">",  ã€‰, Â», âŸ©, Ëƒ, Ë²]
      "$": ["$", ï¿¥, "â‚¬", "Â£", "Â¥", "Â¢", "Â¤", â‚©]
      "*": ["*", "ï¼Š", "Â·", "ãƒ»", "Ã—", "â˜†", "â˜…", "â­", "â‹†", "âœ©", "âœ®", "â‹†", "â€»", "â‚", "â‚", "â˜®", "â˜¯", "â˜£"]
      "(": ï¼ˆ
      ")": ï¼‰
      "[": [ã€Œ, '[', ã€, ã€”, ï¼», ã€š, ã€˜]
      "]": [ã€, ']', ã€‘, ã€•, ï¼½, ã€›, ã€™]
      "_": "â€”â€”"
      "=": ["=", "ã€…"]
      "#": "#"
      "@":
        - "@"
        # - "@xxx.com"
        - "@gmail.com"
        - "@foxmail.com"
        - "@outlook.com"
        - "@hotmail.com"
        - "@qq.com"
        - "@163.com"
        - "@139.com"

  speller/+:
    auto_commit: false                 # äºŒå­—è¯ç»„åŠ è¾…ç å”¯ä¸€æ—¶åˆ™è‡ªåŠ¨ä¸Šå±
    algebra/+:
      # - derive|/||                  # å–æ¶ˆæ³¨é‡Š,ç›´æ¥è¾…ç (æ–°æ‰‹ä¸æ¨è)

      ## æ¨¡ç³ŠéŸ³:
      - derive/^([jqxy])v/$1u/
      - derive/^([jqxy])u/$1v/
      # - derive/^l(.*)/n$1/          # l => n
      # - derive/^n(.*)/l$1/          # n => l
      # - derive/^v(.*)/z$1/          # zh => z
      # - derive/^u(.*)/s$1/          # sh => s
      # - derive/^(.*)k/$1b/          # ing => in
      # - derive/^(.*)g/$1f/          # [zcs][h]eng => [zcs][h]en
      # - derive/^(.*)f/$1g/          # [zcs][h]en => [zcs][h]eng

  flypy_key_help/+:                   # å°é¹¤åŒæ‹¼é”®ä½å¸®åŠ©
    prefix: "/ok"
    tips: "åŒæ‹¼æŸ¥é”®"

  custom_phrase/+:                    # è‡ªå®šä¹‰çŸ­è¯­
    comment_mark: " ğŸ“Œ"               # æ³¨è§£æ ‡è®°

  pin_word:                           # è¯æ¡ç½®é¡¶é…ç½®
    word_quality: 1000
    comment_mark: " ğŸ”"               # ç½®é¡¶è¯æ ‡è®°

  char_mode:                          # å•å­—æ¨¡å¼å¼€å…³
    toggle: "off"

  pair_symbol:                        # ç¬¦å·é…å¯¹å¼€å…³
    toggle: "off"

  emoji_reduce:                       # Emoji é™é¢‘
    index: 6                          # åˆ° index ä½ç½®

  cold_word_reduce:                   # é«˜äº®è¯æ¡é™é¢‘
    index: 4                          # åˆ° index ä½ç½®
    excluded_types: ["easy_en"]

  LaTeX:                              # LaTeX å…¬å¼è¾“å…¥
    tag: LaTeX
    # prefix: "lT"
    prefix: "/lt"
    tips: "LaTeX å…¬å¼"

  history:                            # ä¸Šå±å†å²è®°å½•
    tag: history
    # prefix: "/hs"
    prefix: "hH"
    tips: "ä¸Šå±å†å²"
    max_count: 99
    initial_quality: 999
    comment_max_length: 9
    excluded_types: ["punct"]

  calculator:                         # ç®€æ˜“è®¡ç®—å™¨
    tag: calculator
    # prefix: "/="
    prefix: "cC"
    tips: "è®¡ç®—å™¨"

  chinese_number:                     # ä¸­æ–‡å¤§å†™æ•°å­—(é‡‘é¢)
    # prefix: "/nn"
    prefix: "Nn"
    suffix: "'"
    tips: "ä¸­æ–‡æ•°å­—"
    tag: chinese_number
    select_keys: "HJKLIOM"

  easy_en/+:                          # è‹±æ–‡å•è¯è¾“å…¥æ–¹æ¡ˆ
    # prefix: "/oe"
    prefix: "eN"
    tips: "è‹±æ–‡"
    wildcard: '*'
    expan_word_count: 666             # æ¨¡ç³ŠåŒ¹é…æœ€å¤šè¿­ä»£æ•°

  radical_lookup/+:                   # å•å­—éƒ¨ä»¶æ‹†å­—ç»„å­—
    # prefix: "~"
    prefix: "rL"
    tips: éƒ¨ä»¶ç»„å­—

  radical_reverse_lookup/+:           # éƒ¨ä»¶ç»„å­—åæŸ¥æ‹¼éŸ³
    overwrite_comment: false
    dictionary: kMandarin             # å¯è‡ªè¡Œæ›´æ¢åæŸ¥è¯å…¸

  predictor:                          # å€™é€‰å­—è¯è”æƒ³é¢„æµ‹
    db: predict.db
    max_candidates: 7                 # è”æƒ³çš„å€™é€‰é¡¹ä¸ªæ•°
    max_iterations: 1                 # è”æƒ³é¢„æµ‹çš„æ¬¡æ•°
